/**
* @license
* ----------------------------------
* v1.3.6
*
* Distributed under MIT license
*
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("v8n-bd"),require("underscore-bd")):"function"==typeof define&&define.amd?define(["exports","v8n-bd","underscore-bd"],t):t((e=e||self).vl={},e.v8n,e._)}(this,function(e,t,i){"use strict";var a={validator:t=t&&t.hasOwnProperty("default")?t.default:t,deepValueSearch:(i=i&&i.hasOwnProperty("default")?i.default:i).deepValueSearch,validateAll:!0,_validate(e,t){if(!t.validate||!this.validate)return!0;e=i.extend({},e);var a=this.validationError=this.validate(e,t)||null;return!a||(this.trigger("invalid",this,a,i.extend(t,{validationError:a})),!1)},validate(e,t={}){t=i.defaults(t,{validateAll:this.validateAll});var a=[],r=this.getValidations(e,t),l=this.validator().passesAnyOf(this.validator().minLength(1),this.validator().not.undefined().not.null().pattern(/.+/)),n={};for(let s in r){n[s]=!0;var d=this.deepValueSearch(s,e,!0);(!i.isArray(d)&&!i.isJSON(d)||!/\[\]\[\w+\]/.test(s)&&i.isArray(d))&&(d=[d]),!i.isArray(r[s])&&(r[s]=[r[s]]);for(let i in r[s]){let o=r[s][i];if("boolean"==typeof o[0]||void 0===o[0]){if(n[s]=!(!1===o),!n[s])continue;o=[l,o[1]||this.getRequiredErrorMessage(s),o[2]||null]}a=a.concat(this.validateValues(d,n[s],t.validateAll,s,e,o))}}return a.length>0?a:null},validateValues(e,t,i,a,r,l){var n=[];for(var d in e)n=n.concat(this.validateValue(d,e[d],t,i,a,r,l));return n},validateValue(e,t,i,a,r,l,n){var d=[];let s=this.getValidationValue(n,t,l,r);return this.isRequiredNow(s,i,a)&&!this.isValid(r,l,n[0],s)&&d.push([r,n[1],e]),d},getValidationValue(e,t,a,r){if(!e[2]||"function"!=typeof e[2])return t;var l=i.extend({},this.attributes,a);return e[2](t,l,r)},getValidations(e,t={}){var a=i.result2(this,"validations",{},[e,t],this);return i.result2(t,"validations",a,[e,t],this)},getMandatoryValidations(e,t={}){var a=this.getValidations(e,t),r={};for(let e in a){!i.isArray(a[e])&&(a[e]=[a[e]]);for(let t in a[e]){let i=a[e][t];(void 0===i[0]||"boolean"==typeof i[0]&&!1!==i[0]||"object"==typeof i[0]&&!i[0].test(""))&&(!(e in r)&&(r[e]=[]),r[e].push(i))}}return r},isRequiredNow:(e,t=!1,i)=>void 0!==e||!!t&&!!i,isValid:(e,t,i,a)=>!!i.test(a),requiredErrorMessage:"Field *{{field}}* cannot be empty",getRequiredErrorMessage(e){return i.template(this.requiredErrorMessage)({field:e})}};e.default=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=validate.min.js.map
